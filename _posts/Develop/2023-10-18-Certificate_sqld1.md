---
layout: single
title: "[자격증] SQLD 정리 1과목 1장. 데이터 모델링의 이해"
categories: Develop
tag: [DATABASE, Certificate, cs]
toc: false
date: 2023-10-17
last_modified_at: 2023-10-17
sitemap:
  changefreq: daily
  priority : 1.0
---

# 데이터 모델링의 이해

## 데이터 모델링

모델링은 단지 시스템 구현만을 위해 수행하는 타스크가 아니며, 시스템 구현을 포함한 업무분석 및 업무형상화를 하는 목적도 있다.

정보시스템 구축을 위한 데이터관점, 프로세스관점의 업무 분석, 데이터베이스 구축을 위한 분석 및 설계하는 과정의 의미

> Tip. 추상화 / 단순화 / 명확화 이 3단어가 모델링의 특징!!

## 데이터 모델링 유의점

### **중복**

- 여러 DB에 같은 정보 저장하지 않도록 해야함

### **비유연성**

- 데이터 정의와 사용 프로세스를 분리해야함

- 데이터 모델을 어떻게 설계했느냐에 따라 사소한 업무변화에도 데이터 모델이 수시로 변경됨으로써 유지보수의 어려움을 가중시킬 수 있다.

- 데이터의 정의를 데이터의 사용 프로세스와 분리하여 유연성을 높인다.

### **비일관성**

- 서로 연관된 데이터 중 하나만 업데이트 할 떄 발생

- 중복이 없더라도 발생

- 사용자가 처리하는 프로세스 혹은 이와 관련된 프로그램과 테이블의 연계성을 높이는 것은 데이터 모델이 업무 변경에 대해 취약하게 만드는 단점이다.

## 데이터 모델링의 종류

### **개념적 데이터 모델링**

- 추상화 수준이 높고 업무중심적이고 포괄적인 수준의 모델링 진행

- 전사적 데이터 모델링, EA수립시 많이 이용

문장 내에 **업무 중심적, 포괄적 , 추상화 수준이 높다.**

### **논리적 데이터 모델링**

- 시스템으로 구축하고자 하는 업무에 대해 Key, 속성, 관계 등을 정확하게 표현, 재사용성이 높음

문장 내에 **시스템 구축 / Key,속성,관계 등을 표현 / 재사용성 높음**

### **물리적 데이터 모델링**

- 실제로 데이터베이스에 이식할 수 있도록 성능, 저장 등 물리적인 성격을 고려하여 설계

문장 내에 **데이터베이스 이식 / 성능, 저장 등 물리적인 성격을 고려하여 설계**

## 데이터베이스 스키마 구조

### **외부 스키마**

- 모든 사용자 관점을 통합한 조직 전체 관점의 통합적 표현

- 데이터 모델링은 통합 관점을 가지고 있는 개념 스키마(Conceptual Schema)를 만들어 가는 과정.

- DB를 이용하는 유저에 해당

### **개념 스키마** 

- 사용자 관점을 통합 이라는 말과 함께 설계

- 전체 데이터베이스의 한 논리적인 부분 (서브 스키마)

- 같은 데이터베이스에 대해서도 서로 다른 관점을 정의 할 수 있도록 허용

- 일반 사용자는 SQL을 사용하여 DB를 사용한다.


### **내부 스키마** 

- 개발자 관점 이고 저장 

- DB가 물리적으로 저장된 형식에 대해 기술하고 있기 때문

- 시스템 프로그래머, 설계자가 보는 관점의 스키마

# 엔터티

## 엔티티의 특징

- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보이어야 한다.

- 유일한 식별자에 의해 식별이 가능해야 한다.

- 영속적으로 존재하는 두 개 이상의 인스턴스 집합이어야 한다.

- 엔티티는 반드시 속성이 있어야 한다.

- 엔티티는 다른 엔티티와 최소 한 개 이상의 관계가 있어야 한다.

## ERD 작성 순서

- 엔터티를 그린다(혹은 도출한다).

- 엔터티를 적절하게 배치한다.

- 엔터티간 관계를 설정한다.

- 관계명을 기술한다.

- 관계의 참여도를 기술한다.

- 관계의 필수여부를 기술한다.


## 엔터티의 종류

### 기본 엔터티(키엔터티) 

- 그 업무에 원래 존재하는 정보, 타 엔터티의 부모 역할을 하며 자기 자신의 고유한 주식별자를 가짐. 예를 들면 사원, 부서 같은 개념

### 중심 엔터티(메인엔터티) 

- 기본 엔터티로부터 발생, 예를 들면 사원이 하는 일 / 부서로부터 발생하는 일에 해당 (EX. 계약 / 구매 / 영업)

### 행위 엔터티 

- 위의 엔터티들에 의해 발생하고, 고정된 행위가 아닌 유동성을 가진 데이터를 말한다. 자주 바뀌는 것인데 주문횟수, 사원직무변경이력 등등 이렇게 가변적인 값들을 말한다.

## 엔티티 명명 기준

- 가능하면 현업에서 사용하는 용어를 사용한다.

- 가능하면 약어를 사용하지 않는다.

- 단수명사를 사용한다.

- 모든 엔티티를 통틀어서 유일하게 이름이 부여되어야 한다.

- 엔티티 생성 의미대로 이름을 부여한다.

# 속성

> 업무에서 필요로 하는 인스턴스에서 더 이상 분리되지 않는 최소의 데이터 단위

- 한 개의 속성은 반드시 한 개의 속성값만을 가집니다. 

- 한 개의 엔터티는 최소 2개 이상의 속성을 가집니다. 

- 한 개의 엔터티는 최소 1개 이상의 다른 엔터티와의 관계를 가집니다. 

- 한 개의 엔터티는 최소 2개 이상의 인스턴스 집합이어야 한다.

## 속성 특성에 따른 분류

### 기본 속성

- 원래 가지고 있어야 하는 속성

- 업무로 부터 추출된 일반적인 속성

### 설계 속성

- 원래 존재하지 않지만 필요에 따라 설계자가 추가한 속성

- 주문번호, 예약번호, 고객번호, 상품코드 등

### 파생 속성

- 데이터를 조회할 때 빠른 성능을 낼 수 있도록 하기 위해 원래 속성의 값을 계산하여 저장할 수 있도록 만든 속성

## 도메인

> 각각의 속성이 가질 수 있는 값의 범위를 의미 

- 각 속성은 도메인 이외의 값을 갖지 못하며 도메인은 엔티티 내에서 속성에 대한 데이터 타입과 크기, 그리고 제약사항을 지정하는 것이다.

- 엔터티 내에서 속성에 대한 데이터타입과 크기 그리고 제약사항을 지정하는 것

# 관계

> 엔티티의 인스턴스 사이의 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태

##  관계의 패어링

각각의 엔티티의 인스턴스들은 자신이 관련된 인스턴스들과 관계의 어커런스로 참여하는 형태를 관계 패어링(Relationship Paring)이라 한다. 관계는 엔티티 안에 인스턴스가 개별적으로 관계를 가지는 것(패어링)이고 이것의 집합을 관계로 표현한다는 것이다.

- ERD에서는 존재적 관계와 행위에 의한 관계를 구분하지 않지만 클래스다이어그램에서는 이거서을 구분하여 연관관계와 의존 관계로 표현한다.

## UML 

-Unified Modeling Language의 약어

- 연관관계 / 의존관계가 있고 이 둘은 단일화된 표기법이 아니라 실선과 점선으로 표기를 다르게 해야한다.

## 관계의 표기법

- 관계명(Membership) : 관계의 이름

- 관계차수(Cardinality) : 1:1, 1:M, M:N

- 관계선택사양(Optionality) : 필수관계(Mandatory), 선택관계(Optional)

## 관계의 정의 및 읽는 방법

### 관계 체크 사항

- 두 개의 엔티티 사이에 관심있는 연관규칙이 존재하는가?

- 두 개의 엔티티 사이에 정보의 조합이 발생되는가?

- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?

- 업무기술서, 장표에 관계연결을 가능하게 하는 동사가 있는가?

### 관계 읽기

- 기준(Source) 엔티티를 한 개 또는 각으로 읽는다.

- 대상 엔티티의 관계참여도 즉 개수를 읽는다.

- 관계선택사양과 관계명을 읽는다.

# 식별자

> 하나의 엔티티에 구성되어 있는 여러 개의 속성 중에서 엔티티를 대표할 수 있는 속성을 의미하며 하나의 엔티티는 반드시 하나의 유일한 식별자가 존재해야 한다.

## 식별자의 특징

- 주식별자에 의해 엔티티 내에 모든 인스턴스들이 유일하게 구분되어야 한다.

- 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.

- 지정된 주식별자의 값은 자주 변하지 않는 것이어야 한다.

- 주식별자가 지정이 되면 반드시 값이 들어와야 한다.

## 주식별자의 특징

### 유일성 

- 주식별자에 의해 엔터티내에 모든 인스턴스들을 유일하게 구분할 수 있다. 

### 최소성 

- 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 함. 

### 불변성 

- 주식별자가 한 번 특정 엔터티에 지정되면 그 식별자의 값은 변하지 않아야 함. 

### 존재성 

- 주식별자가 지정되면 반드시 데이터 값이 존재해야한다. Null은 허용되지 않는다.

## 다른 식별자

### 주식별자 / 보조식별자

대표성 여부를 따지는 식별자는 주식별자 / 보조식별자가 있다. 

- 주식별자는 이처럼 대표성, 유니크성을 가지느냐에 따라 결정된다. 보조식별자는 그렇지 못한다.

### 내부식별자 / 외부식별자

스스로 생성이 가능한지의 여부에 따라 구분되는 식별자도 있다. 내부식별자는 스스로 생성이 된다. 하지만 외부식졀자는 타 엔터티로부터 받아온다.

따라서 (FK)가 없다면 모두 내부식별자이다.

### 단일식별자 / 복합식별자

이 2개는 속성의 개수에 따라 한개면 단일, 2개면 복합

## 주식별자 도출기준

- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.

- 명칠, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.

- 복합으로 주식별자로 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.

## 비식별자

식별자관계는 주식별자에 종속되는 것이었다면 비식별자는 그렇지 않습니다.

- 비식별자는 **'약한 연결관계이고, 부모엔터티와 자식엔터티 간에 상호작용이 의무가 아닌 선택사항이다'**